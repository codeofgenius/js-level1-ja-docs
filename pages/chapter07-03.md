---
layout: default
title: 07章_繰り返し処理を行ってみよう / ステップ3 / JavaScriptレベル1
description: 07章_繰り返し処理を行ってみよう / ステップ3 / JavaScriptレベル1
---


7章 繰り返し処理を行ってみよう ステップ3

### ワーク21 for文の内側にfor文

for文を利用した繰り返し処理を学んできましたが、さらに複雑な繰り返し処理として、「for文の中にfor文を記述する」ことができます。「for文の中にfor文を埋め込む」ようなことを「for文のネスト」と呼びます。または「for文の入れ子」と呼びます

##### 記述方法

for文の中にfor文を記述するには、以下のようにします

for( ) {

  何らかの処理

  for( ) {

    何らかの処理

  }

  何らかの処理

}

for文の記述方法自体は、今までと同じです。ただし、for文の内側に別のfor文が組み込まれている状態になります

* * *

for文の内側にfor文が組み込まれます。「外側の繰り返し」と「内側の繰り返し」が登場します。以下のような処理を作成して、実行しましょう

/js-level1/chapter07/work21.js

for( var i = 1; i <= 3; i++ ) {

    console.log('<<' + i + '回目>>');

    for( var j = 1; j <= 3; j++) {

        console.log( j );

    }

}

###### 実行結果

<<1回目>>

1

2

3

<<2回目>>

1

2

3

<<3回目>>

1

2

3

* * *

#### プログラムの解説

for文の内側にfor文がある処理を作成しました

外側のfor文は変数「i」が「1」から「3」まで変化します。結果として、3回繰り返します

for( var i = 1; i <= 3; i++ ) {

    console.log('<<' + i + '回目>>');

    for( var j = 1; j <= 3; j++) {

        console.log( j );

    }

}

内側のfor文は変数「j」が「1」から「3」まで変化します。結果として、3回繰り返します

for( var i = 1; i <= 3; i++ ) {

    console.log('<<' + i + '回目>>');

    for( var j = 1; j <= 3; j++) {

        console.log( j );

    }

}

外側のfor文では変数「i」により繰り返し処理が制御されます。変数「i」が「1」から「3」までの3回繰り返します。「<<1回目>>」の表示は外側の繰り返し処理により表示されます

for( var i = 1; i <= 3; i++ ) {

    console.log('<<' + i + '回目>>');

    for( var j = 1; j <= 3; j++) {

        console.log( j );

    }

}

* * *

外側の繰り返し処理が1ステップ進む間に内側のfor文が実行されます。内側のfor文では変数「j」により繰り返し処理が制御されます。変数「j」が「1」から「3」まで3回繰り返します。内側のfor文により、「1,2,3」の表示が行われます

for( var i = 1; i <= 3; i++ ) {

    console.log('<<' + i + '回目>>');

    for( var j = 1; j <= 3; j++) {

        console.log( j );

    }

}

外側のfor文の2回目のステップに入ると、「i」の値は「2」になります。そのため、「<<2回目>>」と表示されます

for( var i = 1; i <= 3; i++ ) {

    console.log('<<' + i + '回目>>');

    for( var j = 1; j <= 3; j++) {

        console.log( j );

    }

}

次に内側のfor文が実行されます。内側のfor文は再度初期化から行われるため、変数「j」は再度「1」から「3」まで3回繰り返します

for( var i = 1; i <= 3; i++ ) {

    console.log('<<' + i + '回目>>');

    for( var j = 1; j <= 3; j++) {

        console.log( j );

    }

}

* * *

##### 変数「i」と「j」の値の流れ

外側のfor文のカウンタ変数は「i」、内側のfor文のカウンタ変数は「j」を利用しています。変数「i」が1個進む間に、変数「j」の値は、「1」から「3」まで進みます

iの値

jの値

1

1

1

2

1

3

2

1

2

2

2

3

3

1

3

2

3

3

変数「i」が「1」の時に、変数「j」は「1」から「3」と変化します

変数「i」が「2」になると、変数「j」は再び、「1」から「3」と変化します

変数「i」が「3」になると、変数「j」は再び、「1」から「3」と変化します

このように繰り返し処理のなかで繰り返し処理が行われています

* * *

### ワーク22 for文の内側にfor文

for文の内側にfor文がある例をもう1個試しましょう。以下のような処理を作成して、実行しましょう

/js-level1/chapter07/work22.js

for( var i = 1; i <= 3; i++ ) {

    for( var j = 1; j <= 3; j++) {

        console.log( i + " --> " + j );

    }

    console.log("====");

}

###### 実行結果

1 --> 1

1 --> 2

1 --> 3

\====

2 --> 1

2 --> 2

2 --> 3

\====

3 --> 1

3 --> 2

3 --> 3

\====

* * *

#### プログラムの解説

ワーク21と同様にfor文の内側にfor文がある処理を作成しました。今回のワークでは、内側のfor文で、外側のfor文のカウンタ変数を利用しました

外側のfor文のカウンタ変数は「i」です。値は「1」から「3」まで変化します。3回繰り返します

for( var i = 1; i <= 3; i++ ) {

    for( var j = 1; j <= 3; j++) {

        console.log( i + " --> " + j );

    }

    console.log("====");

}

内側のfor文のカウンタ変数は「j」です。値は「1」から「3」まで変化します。3回繰り返します

for( var i = 1; i <= 3; i++ ) {

    for( var j = 1; j <= 3; j++) {

        console.log( i + " --> " + j );

    }

    console.log("====");

}

外側のfor文が1ステップ進む間に、内側のfor文は3回繰り返します。内側のfor文の中では、変数「i」と変数「j」の値を表示します

for( var i = 1; i <= 3; i++ ) {

    for( var j = 1; j <= 3; j++) {

        console.log( i + " --> " + j );

    }

    console.log("====");

}

* * *

内側のfor文の処理が終了した後、「====」を表示します

for( var i = 1; i <= 3; i++ ) {

    for( var j = 1; j <= 3; j++) {

        console.log( i + " --> " + j );

    }

    console.log("====");

}

* * *

### ワーク23 2重の繰り返し処理を利用して「九九」を表示

2重の繰り返し処理を利用して「九九」を表示します。以下のような処理を作成して、実行しましょう

/js-level1/chapter07/work23.js

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

###### 実行結果

1 2 3 4 5 6 7 8 9

2 4 6 8 10 12 14 16 18

3 6 9 12 15 18 21 24 27

4 8 12 16 20 24 28 32 36

5 10 15 20 25 30 35 40 45

6 12 18 24 30 36 42 48 54

7 14 21 28 35 42 49 56 63

8 16 24 32 40 48 56 64 72

9 18 27 36 45 54 63 72 81

* * *

#### プログラムの解説

for文の2重の繰り返し処理を利用すると「九九」の表を作成できます

外側のfor文は9回繰り返します。カウンタ変数「i」の値は、「1」から「9」まで変化します

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

変数「text」の値を初期化します

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

内側のfor文は9回繰り返します。カウンタ変数「j」の値は、「1」から「9」まで変化します

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

* * *

内側のfor文の処理の中で、計算処理と文字列の連結を行います

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

「i \* j」により、かけ算の積を計算します。その後、文字列「 」をつなげます。これを9回繰り返します。つまり、変数「i」が「1」のとき、以下のような処理になります

「1 ｘ 1」 + ‘ ‘ + 「1 ｘ 2」 + ‘ ‘ + 「1 ｘ 3」 + ‘ ‘ + 「1 ｘ 4」 + ‘ ‘ +

「1 ｘ 5」 + ‘ ‘ + 「1 ｘ 6」 + ‘ ‘ + 「1 ｘ 7」 + ‘ ‘ + 「1 ｘ 8」 + ‘ ‘ +

「1 ｘ 9」 + ‘ ‘

結果として、変数「text」には以下のような文字列が作成されます

1 2 3 4 5 6 7 8 9

内側のfor文を終了した後、変数「text」を表示します

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

変数「i」が「1」の時は九九の1の段を表示します

1 2 3 4 5 6 7 8 9

* * *

つぎに、外側のfor文の変数「i」が「2」になります。変数「text」を初期化します

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

内側のfor文は9回繰り返します。カウンタ変数「j」の値は、「1」から「9」まで変化します

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

内側のfor文の処理の中で、計算処理と文字列の連結を行います

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

「i \* j」により、かけ算の積を計算します。その後、文字列「 」をつなげます。これを9回繰り返します。つまり、変数「i」が「2」のとき、以下のような処理になります

「2 ｘ 1」 + ‘ ‘ + 「2 ｘ 2」 + ‘ ‘ + 「2 ｘ 3」 + ‘ ‘ + 「2 ｘ 4」 + ‘ ‘ +

「2 ｘ 5」 + ‘ ‘ + 「2 ｘ 6」 + ‘ ‘ + 「2 ｘ 7」 + ‘ ‘ + 「2 ｘ 8」 + ‘ ‘ +

「2 ｘ 9」 + ‘ ‘

* * *

結果として、変数「text」には以下のような文字列が作成されます

2 4 6 8 10 12 14 16 18

内側のfor文を終了した後、変数「text」を表示します

for( var i = 1; i <= 9; i++ ) {

    var text = '';

    for( var j = 1; j <= 9; j++) {

        text += i \* j + ' ';

    }

    console.log(text);

}

変数「i」が「2」の時は九九の2の段を表示します

2 4 6 8 10 12 14 16 18

この処理を、変数「i」が「9」になるまで繰り返します。このようにfor文の内側にfor文を作成することで、複雑な繰り返し処理を作成できます

* * *

### ワーク24 while文

for文以外にも繰り返し処理の文法があります。その一つが「while」文です。for文は繰り返しの回数があらかじめ決まっている場合には便利です。しかし、繰り返しの回数が決まっていない場合は、「while」文が有効です

##### 記述方法

while文は以下のように記述します

while( 繰り返し条件 ) {

  処理

}

図で表すと以下のようになります

![](https://lh7-us.googleusercontent.com/oYXRIL-EovDydtcHkeaJhsFuJfaZOIW6VY6ig8PA0es21D3CjUyYRM1hcDt69e1__PsF7UPCQFHljWdgxGyr4ObXzFEdy019BnapkLP1tFKzCY-wQZknHeGbFVjBaLOfLR20e91wOuk3jBg)

「繰り返し条件」が成立する場合、繰り返し処理が実行され、「処理」を実行します。「繰り返し条件」が成立しない場合、while文の繰り返し処理が終了します

「while」文では繰り返し条件が満たされなくなるまで、繰り返しを継続します

* * *

while文の基本的な処理を試してみます。以下のような処理を作成して、実行しましょう

/js-level1/chapter07/work24.js

var i = 0;

while( i < 5 ) {

    console.log( i );

    i++;

}

###### 実行結果

0

1

2

3

4

#### プログラムの解説

「while」文は、「繰り返し条件」が成立している間、繰り返し処理を継続します

繰り返し条件で利用する変数「i」を「0」で初期化します

var i = 0;

「while」文で繰り返し条件を判定します。変数「i」が「5」より小さい場合、成立します。「while」文が成立する間、波カッコの内側が実行されます

while( i < 5 ) {

    console.log( i );

    i++;

}

* * *

変数「i」の値を表示します

while( i < 5 ) {

    console.log( i );

    i++;

}

変数「i」の値を加算します

while( i < 5 ) {

    console.log( i );

    i++;

}

##### 変数「i」の流れ

変数「i」と「while」文の条件判定をまとめます

変数「i」

条件判定 i < 5

動作

0

true

「0」と表示します

1

true

「1」と表示します

2

true

「2」と表示します

3

true

「3」と表示します

4

true

「4」と表示します

5

false

「while」文を終了します

このプログラムの注意点があります。「i++」がない場合、「while」文を何度繰り返しても、繰り返し条件が成立するので、「while」文が終了しません。繰り返し条件の記述には十分に注意が必要です

while文で実現できることは、たいていの場合、for文で実現できます。また、逆も同じです

* * *

### ワーク25 while文で、1から10の合計を計算

for文でも行いましたが、1から10までの合計を行います。for文で行う処理と同等の処理をwhile文で実行できます。以下のような処理を作成して、実行しましょう

/js-level1/chapter07/work25.js

var i = 1;

var total = 0;

while( i <= 10  ) {

    total += i;

    i++;

}

console.log( total );

###### 実行結果

55

#### プログラムの解説

「while」文を利用して、1から10の数値の合計を計算しました

「while」文のカウンタ変数を「1」で初期化します

var i = 1;

合計値を表す変数「total」を宣言します。「0」で初期化します

var total = 0;

* * *

「while」文で、変数「i」が「10」以下の場合、繰り返します

while( i <= 10  ) {

    total += i;

    i++;

}

「while」文が成立した場合、変数「total」にカウンタ変数「i」を加算します

while( i <= 10  ) {

    total += i;

    i++;

}

「while」文のカウンタ変数「i」を増加します

while( i <= 10  ) {

    total += i;

    i++;

}

カウンタ変数「i」が「11」になると、「while」文が成立しません。「while」文が終了します。最後に、合計値を表す変数「total」を表示します

console.log( total );

for文の処理はほとんど、whileに書き換えることができます。逆も同様であり、while文の処理をfor文で表現することもできます

* * *

### ワーク26 練習問題

for文を利用して、実行結果のように「10」から「1」までが表示される処理を作成してください

/js-level1/chapter07/work26.js

###### 実行結果

10

9

8

7

6

5

4

3

2

1

* * *

### ワーク27 練習問題

for文を利用して、「1」から「50」までの合計値を計算する処理を作成してください

/js-level1/chapter07/work27.js

###### 実行結果

1275

* * *

### ワーク28 練習問題

for文を利用して、「1」から「30」までの数値で、5の倍数のみを表示する処理を作成してください

/js-level1/chapter07/work28.js

###### 実行結果

5

10

15

20

25

30

* * *

### ワーク29 練習問題

while文を利用して、実行結果のように「-1」から「-10」を表示する処理を作成してください

/js-level1/chapter07/work29.js

###### 実行結果

\-1

\-2

\-3

\-4

\-5

\-6

\-7

\-8

\-9

\-10

ー  －

All Rights Reserved By Code of Genius


